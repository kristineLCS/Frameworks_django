{% extends "blog/base.html" %}
{% block content %}
{% load crispy_forms_tags %}

<h2>Search for Books</h2>

<form method="GET">
    {% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-primary">Search</button>
</form>

{% if books %}
    <h3>Results:</h3>
    <ul>
        {% for book in books %}
            <li>
                <strong>{{ book.title }}</strong> by {{ book.authors }}<br>
                {{ book.description|slice:":200" }}...
            </li>
    </ul>

    {% empty %}
        <p>No books found matching your search.</p>
    {% endfor %}
{% endif %}

{% endblock content %}
